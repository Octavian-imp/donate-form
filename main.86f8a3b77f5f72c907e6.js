(()=>{var e,t,a,r={3115:(e,t,a)=>{"use strict";var r=a(3696),l=a(7470),n=a(9348),u=a(36),o=a(9215),s=a(7435);const c="agoxwlphyBtJafZumszk",i="CQaCuXaFA6azLs1B2rel",m="Nk64Kpe0N1nKiLJlqOGe";var g=a(9369),v=a(8890);function f(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,v.QP)((0,g.A)(t))}const d="MfPoDiYBohYUhbXBppfj",p="KiRr4tbzyTIc5lu8ic0l",h="QjsfKBbYPOSm8mK7tMEf";function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},b.apply(null,arguments)}const y=e=>{let{className:t,children:a,variant:l,...n}=e;return"secondary"===l?r.createElement("button",b({className:f(d,h,t)},n),a):r.createElement("button",b({className:f(d,p,t)},n),a)},O="UXVXuxMYw30CgIKCdctH",E="FllqWgO8PWXm96yRyhC2",N="siymXYOkji_aq_PaVh6C",_="rv36JbeT77J_AuPA8u3H";function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},V.apply(null,arguments)}const j=(0,r.forwardRef)((function(e,t){let{label:a,name:l,control:n,rules:u,defaultValue:s,className:c,parentClassName:i,onChange:m,...g}=e;const v=(0,r.useId)(),{field:{onChange:d,...p},fieldState:h}=(0,o.as)({name:l,control:n,rules:u,defaultValue:s}),[b,y]=(0,r.useState)(s||"");return r.createElement("div",{className:f(O,i)},r.createElement("label",{htmlFor:v,className:E},a),r.createElement("input",V({value:b,id:v,className:f(N,c,h.error&&_),onChange:function(e){"function"==typeof m&&m(e),y(e.target.value),d(e.target.value)},ref:t},p,g)),h.error&&r.createElement("p",{className:_},h.error.message))})),w="Иван",C="Экскурсия",S={secretKey:"1234567890",email:"test@mail.ru"},x={home:"/",prepareQuery:"/prepared-query"},P=()=>{const e=(0,s.Zp)(),t=(0,o.mN)({mode:"onTouched"});return r.createElement("main",{className:c},r.createElement(o.Op,t,r.createElement("form",{className:i,noValidate:!0,onSubmit:t.handleSubmit((t=>{new Promise((e=>{const a=(1e3*Math.random()).toString(36),r={api_key:"316b2be8-3475-4462-bd57-c7794d4bdb53",transaction:a,description:t.message,amount:+t.amount,hash_sum:(0,u.sha256)("316b2be8-3475-4462-bd57-c7794d4bdb53"+a+100*+t.amount+S.secretKey),email:S.email,redirect_url:"MISSING_ENV_VAR".redirect_url,success_redirect:"MISSING_ENV_VAR".success_url,fail_redirect:"MISSING_ENV_VAR".fail_url,custom_data:{name:w,goal:C}};setTimeout((()=>{e(r)}),100)})).then((t=>(localStorage.setItem("bodyQuery",JSON.stringify(t)),e(x.prepareQuery))))}))},r.createElement("h1",{className:m},w,' собирает на "',C,'"'),r.createElement(j,{control:t.control,name:"cardNumber",label:"Номер карты",rules:{required:{value:!0,message:"Укажите номер карты"},maxLength:{value:19,message:"Номер карты должен содержать 16 цифр"},minLength:{value:19,message:"Номер карты должен содержать 16 цифр"},validate:e=>19!==e.length||function(e){let t=0,a=e.replace(/\s/g,""),r="";for(let e=0;e<a.length;e++)if(e%2==0){const l=2*+a[e]>9?2*+a[e]-9:2*+a[e];r+=l,t+=l}else t+=+a[e],r+=a[e];return t%10==0}(e)},defaultValue:"",onChange:function(e){e.target.value.length>19&&(e.target.value=e.target.value.slice(0,19)),4!==e.target.value.length&&9!==e.target.value.length&&14!==e.target.value.length||(e.target.value+=" "),e.target.value=e.target.value.replace(/[a-zA-Z]/g,"")},onKeyDown:e=>{"Backspace"!==e.key||5!==e.target.value.length&&10!==e.target.value.length&&15!==e.target.value.length||(e.target.value=e.target.value.slice(0,-1))}}),r.createElement("div",{className:"flex items-center gap-9"},r.createElement(j,{control:t.control,name:"validityPeriod",label:"Срок действия",placeholder:"MM / ГГ",parentClassName:"flex-1",defaultValue:"",rules:{required:{value:!0,message:"Укажите срок действия"},maxLength:{value:7,message:"Срок действия должен содержать 4 цифры"},minLength:{value:7,message:"Срок действия должен содержать 4 цифры"}},onChange:function(e){e.target.value.length>7&&(e.target.value=e.target.value.slice(0,7)),2===e.target.value.length&&(e.target.value+=" / "),e.target.value=e.target.value.replace(/[a-zA-Z]/g,"")},onKeyDown:e=>{"Backspace"===e.key&&5===e.target.value.length&&(e.target.value=e.target.value.slice(0,-3))}}),r.createElement(j,{control:t.control,name:"cvv",label:"СVV",defaultValue:"",parentClassName:"flex-1",type:"password",rules:{required:{value:!0,message:"Укажите CVV"},maxLength:{value:3,message:"CVV должен содержать 3 цифры"},minLength:{value:3,message:"CVV должен содержать 3 цифры"}},onChange:function(e){e.target.value.length>3&&(e.target.value=e.target.value.slice(0,3)),e.target.value=e.target.value.replace(/[a-zA-Z]/g,"")}})),r.createElement(j,{control:t.control,defaultValue:"",name:"amount",label:"Сумма перевода",rules:{required:{value:!0,message:"Укажите сумму перевода"},min:{value:10,message:"Минимальная сумма перевода 10 рублей"}},type:"text",onChange:e=>{e.target.value=e.target.value.replace(/\D/g,"")}}),r.createElement(j,{control:t.control,defaultValue:"",name:"name",label:"Ваше имя",rules:{required:{value:!0,message:"Укажите ваше имя"}}}),r.createElement(j,{control:t.control,defaultValue:"",name:"message",label:"Сообщение получателю",rules:{required:{value:!0,message:"Укажите сообщение"}}}),r.createElement("div",{className:"flex gap-4"},r.createElement(y,{variant:"primary",type:"submit"},"Перевести"),r.createElement(y,{variant:"secondary",type:"button"},"Вернуться")))))},k=()=>{try{const e=localStorage.getItem("bodyQuery");return r.createElement("main",{className:"w-full h-screen flex items-center justify-center"},r.createElement("pre",{className:"p-4 rounded-xl bg-zinc-500 text-white"},r.createElement("code",null,e.replace(/\,/g,",\n").replace(/\:(?=\{)/g,":\n\t"))))}catch(e){return r.createElement("pre",null,"Возникла ошибка: ",e.message)}},I=(0,n.Ys)([{path:x.home,element:r.createElement(P,null)},{path:x.prepareQuery,element:r.createElement(k,null)}]);(0,l.H)(document.getElementById("root")).render(r.createElement(n.pg,{router:I}))},4987:()=>{},4454:()=>{}},l={};function n(e){var t=l[e];if(void 0!==t)return t.exports;var a=l[e]={exports:{}};return r[e](a,a.exports,n),a.exports}n.m=r,n.amdO={},e=[],n.O=(t,a,r,l)=>{if(!a){var u=1/0;for(i=0;i<e.length;i++){a=e[i][0],r=e[i][1],l=e[i][2];for(var o=!0,s=0;s<a.length;s++)(!1&l||u>=l)&&Object.keys(n.O).every((e=>n.O[e](a[s])))?a.splice(s--,1):(o=!1,l<u&&(u=l));if(o){e.splice(i--,1);var c=r();void 0!==c&&(t=c)}}return t}l=l||0;for(var i=e.length;i>0&&e[i-1][2]>l;i--)e[i]=e[i-1];e[i]=[a,r,l]},a=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,n.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var l=Object.create(null);n.r(l);var u={};t=t||[null,a({}),a([]),a(a)];for(var o=2&r&&e;"object"==typeof o&&!~t.indexOf(o);o=a(o))Object.getOwnPropertyNames(o).forEach((t=>u[t]=()=>e[t]));return u.default=()=>e,n.d(l,u),l},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={792:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var r,l,u=a[0],o=a[1],s=a[2],c=0;if(u.some((t=>0!==e[t]))){for(r in o)n.o(o,r)&&(n.m[r]=o[r]);if(s)var i=s(n)}for(t&&t(a);c<u.length;c++)l=u[c],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(i)},a=self.webpackChunk=self.webpackChunk||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),n.O(void 0,[92],(()=>n(1001)));var u=n.O(void 0,[92],(()=>n(3115)));u=n.O(u)})();